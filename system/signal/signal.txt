/*
 * author: inkXu
 * date:   2022.8.22
 *
 * 信号
 *
 * 信号接口建议写在一个函数的前面
 */

  概述

  信号是软件中断，它是在软件层次上对中断机制的一种模拟。
  信号可以导致一个正在运行的进程被另一个正在运行的异步进程中断，转而处理某个突发事件

  信号是一种异步通信方式
  进程不必等待信号的到达，进程也不知道信号什么时候到达。信号可以直接进行用户空间进程和内核空间进程的交互，
  内核进程可以利用它来通知用户空间进程发生了哪些系统事件。

  信号的名字都是以SIG开头
  每个信号和一个数字编码相对应，在头文件signum.h中，这些信号都被定义为正整数。存放在/usr/include/bits下的
  signum.h文件内，linux版本不同可能在不同的位置。可以使用kill -l查看数字编码和信号的对应关系。

  信号是由当前系统已经定义好的一些标识，每一个标识都会在特定的场合使用，并且都会对进程有一定的影响，当信号
  产生时，会让当前信号做出相应的操作。信号都已经定义好了，我们不能创造，只能使用。



  产生信号的方式

  在终端按某些按键会产生信号
  Ctrl+c产生中断信号SIGINT、Ctrl+\产生中断信号SIGQUIT、Ctrl+z产生中断信号SIGSTOP

  硬件异常将产生信号
  除数为0或无效的内存访问等。这些情况通常是硬件检测到的，并通知内核，然后内核产生适当的信号发送给相应的进程

  软件异常将产生信号
  当检测到魔种软件条件已发生，并将其通知有关进程时，产生信号

  调用kill函数将发送信号
  注意：接收信号进程和发送信号进程的所有者必须相同，或发送信号的进程所有者必须是超级用户

  运行kill命令将发送信号
  此程序实际上是使用kill函数来发送信号。也常用此命令终止一个失控的后台程序



  信号的默认（缺省）处理方式

  默认方式如下
  1)终止进程：当信号产生后，当前进程就会立即结束
  2)缺省处理：当信号产生后，当前进程不做任何处理
  3)停止进程：当信号产生后，使得当前进程停止
  4)恢复进程：当信号产生后，停止的进程会恢复执行，恢复后为后台进程

  注意：一个信号只有一个默认的处理方式，每进程中产生了一个信号，就会让当前进程做出一定的反应



  进程接收到信号后的处理方式

  执行系统默认动作
  对大多数信号来说，系统默认动作是用来终止该进程

  忽略此信号
  接收到此信号后没有任何动作

  执行自定义信号处理函数
  用用户定义的信号处理函数处理该信号

  注意：SIGKILL和SIGSTOP这两个信号只能使用默认的处理方式执行，不能忽略也不能自定义



  常见的信号

  SIGKILL     9    当信号产生后，进程会退出，不能被缺省和捕捉                           退出进程
  SIGSTOP     19   当信号产生后，进程会停止，不能被缺省和捕捉                           停止进程
  SIGINT      2    键盘按Ctrl+c时会产生该信号                                           退出进程
  SIGQUIT     3    键盘按Ctrl+\时会产生该信号                                           退出进程
  SIGTSTP     20   键盘按Ctrl+z时会产生该信号                                           停止进程
  SIGCONT     18   产生该信号后会恢复当前停止的进程                                     恢复停止的进程
  SIGALRM     14   当调用alarm函数设置的事件达到时会产生该信号                          退出进程
  SIGPIPE     13   当管道破裂时会产生当前信号                                           退出进程
  SIGABRT     6    当调用abort函数时会产生当前信号                                      退出进程
  SIGCHLD     17   当使用fork创建了一个子进程，子进程状态改变或退出会产生该信号           缺省
  SIGUSR1     10   自定义信号，不会自动产生，只能用kill函数或命令给指定进程发送该信号     缺省
  SIGUSR2     12   自定义信号，不会自动产生，只能用kill函数或命令给指定进程发送该信号     缺省

























